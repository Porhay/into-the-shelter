datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "./generated/client"
  binaryTargets = ["native", "linux-musl-arm64-openssl-3.0.x"]
}

model users {
  id          String    @id @default(uuid())
  email       String    @unique
  password    String?
  displayName String?
  avatar      String?
}

model session {
  id        String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  sid       String
  sess      Json
  expire    DateTime
  createdAt DateTime    @default(now()) @db.Timestamp(6)
  updatedAt DateTime?   @updatedAt @db.Timestamp(6)

  @@unique([sid])
}

model files {
  id        String   @id @default(uuid())
  userId    String
  filename  String?
  size      Int      @default(0)
  mime      String?
  type      String?
  metadata  String?
  createdAt DateTime @default(now()) @map(name: "created_at")
  updatedAt DateTime @default(now()) @map(name: "updated_at")
  
  @@map(name: "files")
}

model notifications {
  id          String   @id @default(uuid())
  senderId    String
  recipientId String
  type        String?
  data        String
  seen        Boolean  @default(false)
  createdAt   DateTime @default(now()) @map(name: "created_at")
  updatedAt   DateTime @default(now()) @map(name: "updated_at")
  
  @@map(name: "notifications")
}

model lobbies {
  id          String   @id @default(uuid())
  
  settings    String
  createdAt   DateTime @default(now()) @map(name: "created_at")
  updatedAt   DateTime @default(now()) @map(name: "updated_at")
  
  @@map(name: "lobbies")
}

model chatMessages {
  id          String   @id @default(uuid())
  lobbyId     String
  data        String   
  createdAt   DateTime @default(now()) @map(name: "created_at")
  updatedAt   DateTime @default(now()) @map(name: "updated_at")
  
  @@map(name: "chat_messages")
}
